# Coordinator-1 Configuration (Machine 1: 192.168.1.10)
# Production deployment on separate physical/virtual machine

coordinator:
  id: "coordinator-1"
  grpc_port: 9090
  http_port: 8090
  
  raft:
    node_id: "coordinator-1"
    raft_port: 7000
    raft_dir: "/var/lib/zkp/raft"
    bootstrap: true  # ONLY TRUE ON FIRST NODE!
    
    # Production: Use actual IP addresses or domain names
    peers:
      - id: "coordinator-1"
        address: "192.168.1.10:7000"  # This machine
      - id: "coordinator-2"
        address: "192.168.1.11:7000"  # Machine 2
      - id: "coordinator-3"
        address: "192.168.1.12:7000"  # Machine 3
    
    # Production timeouts (more lenient for network latency)
    heartbeat_timeout: 2s      # Increased from 1s
    election_timeout: 3s       # Increased from 1s
    commit_timeout: 100ms
    max_append_entries: 64
    snapshot_interval: 300s    # 5 minutes
    snapshot_threshold: 10000

database:
  # Production: Use managed PostgreSQL (RDS, CloudSQL, etc.)
  host: "postgres.prod.example.com"  # Replace with your DB host
  port: 5432
  database: "zkp_network"
  user: "zkp_user"
  password: "${DB_PASSWORD}"  # Use env var for security
  ssl_mode: "require"         # REQUIRED in production
  max_open_conns: 50
  max_idle_conns: 10
  conn_max_lifetime: "30m"

logging:
  level: "info"
  format: "json"
  output: "stdout"  # Use log aggregation (ELK, Datadog, etc.)

metrics:
  enabled: true
  port: 9091
  path: "/metrics"
