# Worker Node Configuration - Local Development
# Use this for local development without Docker

worker:
  id: "worker-1"
  
  # Local coordinator address (not Docker service name)
  coordinator_address: "localhost:9090"
  
  # Lower concurrency for local testing
  concurrency: 2
  
  heartbeat_interval: 5s
  register_retries: 3
  task_timeout: 5m

redis:
  host: "redis"             # Docker service name, use "localhost" for local dev
  port: 6379
  password: ""              # Leave empty if no auth
  db: 0                     # Redis database number (0-15)
  
  # Connection pool settings
  max_retries: 3            # Max retry attempts for failed operations
  pool_size: 10             # Max number of socket connections
  min_idle_conns: 5         # Minimum idle connections to maintain
  
  # Timeout settings
  dial_timeout: 5s          # Timeout for establishing connection
  read_timeout: 3s          # Timeout for socket reads
  write_timeout: 3s         # Timeout for socket writes
  pool_timeout: 4s          # Timeout when all connections are busy
  
  # Feature flags
  enabled: true             # Enable Redis event bus (set false to use polling only)
  caching_enabled: false    # Enable caching features (future use)
  
  # Caching configuration (for future use)
  default_ttl: 5m           # Default cache expiration time  

logging:
  level: "debug"       # Verbose logging for development
  format: "console"    # Human-readable format
  output: "stdout"

metrics:
  enabled: true
  port: 9091
  path: "/metrics"

zkp:
  curve: "bn254"
  backend: "groth16"
  compile_cache_size: 20    # Lower for local dev
  max_proof_size_mb: 10
  merkle_tree_depth: 8
